if (self.CavalryLogger) { CavalryLogger.start_js(["WE2Kf"]); }

__d("AdsPixelServerReceivePixelStatsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"RECEIVE_PIXEL_STATS"}}),null);
__d("AdsSimpleTipProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:b("immutable").Map()};e.exports=a}),null);
__d("AdsSimpleTipProvider",["Laminar","AdsSimpleTipProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsSimpleTipProviderPlugin"),"AdsSimpleTipProviderPlugin")}),null);
__d("AdsSimpleTipShowTipDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.tip,(a=b.data)!=null?a:{})}};e.exports=a}),null);
__d("AdsSimpleTipShowTipDataAction",["Laminar","AdsSimpleTipShowTipDataReducerPlugin","AdsSimpleTipProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsSimpleTipShowTipDataReducerPlugin"),b("AdsSimpleTipProvider"),{})]},function(){return[]},"SHOW_TIP");e.exports=a}),null);
__d("AdsCanvasInstagramConstants",[],(function(a,b,c,d,e,f){"use strict";a={IG_COLLECTION_FALLBACK_TEMPLATE_ID:["1063217037112304","133471657203838"],IG_SUPPORTED_COLLECTION_TEMPLATE_ID:["1932289657009030","1063217037112304","133471657203838"],IG_COLLECTION_TEMPLATE_FIXED_BUTTON:{textColor:"#262626",fontSize:14,fontFamily:"SFUIText-Semibold",lineHeight:"1.1"}};e.exports=a}),null);
__d("AdsSimpleTipTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({AD_CREATION_ADLEVEL_FORMAT_SECTION:null,AD_RECIPES_DABA_UPSELL_BUDGET_SECTION:null,AD_RECIPES_DABA_UPSELL_DABA_RADIO_BTN:null,AD_RECIPES_DABA_UPSELL_INTERSTITIAL:null,AD_RECIPES_DABA_UPSELL_PRODUCT_SET:null,OCPM:null,INSTAGRAM_PLACEMENT:null,EXPAND_RETENTION_FOR_OCPM:null,UPGRADE_PROSPECTING:null,CREATE_DYNAMIC_WSC_ADGROUP_CAROUSEL:null,CREATE_DYNAMIC_WSC_ADGROUP_CREATIVE:null,CREATE_DYNAMIC_MAI_CAMPAIGN_PRODUCT_CATALOG:null,CREATE_DYNAMIC_MAI_CAMPAIGN_DYNAMIC_AUDIENCE:null,DCO_ADGROUP_TOUR:null,DYNAMIC_ADS_UPSELL_ADGROUP:null,DYNAMIC_ADS_UPSELL_ADGROUP_NEW:null,DYNAMIC_ADS_UPSELL_ADGROUP_PREVIEW_V2:null,DYNAMIC_ADS_UPSELL_ADGROUP_TOKEN_SELECTOR:null,DYNAMIC_ADS_UPSELL_CAMPAIGN:null,DYNAMIC_ADS_UPSELL_CAMPAIGN_NAVIGATION_SECTION:null,DYNAMIC_ADS_UPSELL_CAMPAIGN_PRODUCT_CATALOG_SELECTOR:null,DYNAMIC_ADS_UPSELL_CAMPAIGN_DESTINATION_RADIO_LIST:null,DYNAMIC_CATEGORY_ADS_GUIDANCE_TOUR:null,TRAVEL_EXPAND_RETENTION:null});e.exports=a}),null);
__d("AdsAssetSelectorsUtils",["invariant","AdsImageIDClasses","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsImageIDClasses").AdsImageID,i=b("immutable").Map;a={compactMap:function(a){var c=b("immutable").Map().asMutable();a.forEach(function(a,b){a!=null&&c.set(b,a)});return c},getImageID:function(a,b,c){if(b!=null)return h.fromAcountAndHash(a,b);else if(c!=null)return h.fromExternalURL(c);return null},fromAdsLegacyImageToImageAsset:function(a){var b=a.getAdAccountHash();a=a.getUrl();if(b!=null&&b!=="")return i({hash:b});a!=null&&a!==""||g(0,1494);return i({url:a})}};e.exports=a}),null);
__d("AdsImageAssetSelectors",["invariant","AdsAssetSelectorsUtils","AdsImageDimensionProviderStore","AdsImageIDClasses","AdsImageInfoStore","AdsShutterstockImageByIDStore","AdsUEditorAdgroupBulkSelectors","AdsUnifiedCreativeAPIFields","LoadObject","ShutterstockImageUtils","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsImageIDClasses").AdsAccountImageID,i=b("AdsImageIDClasses").AdsExternalImageID;function j(a,b,c){if(!b.hasValue())return null;b=b.getValueEnforcing();var d=b.width;b=b.height;c=c!=null?{stockImageID:c,thumbHeight:b,thumbWidth:d,previewUrl:a,previewHeight:b,previewWidth:d}:null;return babelHelpers["extends"]({},c,{format:"image",hash:null,name:null,url:a,width:d,height:b})}function k(a,b,c){return!b.hasValue()?null:{format:"image",hash:a,name:c.hasValue()?c.getValueEnforcing():null,url:b.getValueEnforcing().get("url"),width:b.getValueEnforcing().get("width"),height:b.getValueEnforcing().get("height"),stockImageID:null,isSphericalPhoto:b.getValueEnforcing().get("isSphericalPhoto")}}a=b("adsCreateStoreSelector")([],function(a){return a.assetImageIDs},e.id+".imageAssetIDsSelector");c=b("adsCreateSelector")([a],function(a){return a?Array.from(a.values()):[]},{name:e.id+".imageAssetImageIDSelector"});d=b("adsCreateStoreSelector")([b("AdsShutterstockImageByIDStore")],function(a){if(a instanceof i){a=a.getUrl();if(b("ShutterstockImageUtils").isStockImageURL(a)){a=b("ShutterstockImageUtils").urlToID(a);return b("AdsShutterstockImageByIDStore").get(a)}}return null},e.id+".shutterstockImageSelector");f=b("adsCreateStoreSelector")([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getFullSize(a)},e.id+".fullSizeImageSelector");var l=b("adsCreateStoreSelector")([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getName(a)},e.id+".imageNameSelector"),m=b("adsCreateStoreSelector")([b("AdsImageDimensionProviderStore")],function(a){if(a instanceof i){a=a.getUrl();if(!b("ShutterstockImageUtils").isStockImageURL(a))return b("AdsImageDimensionProviderStore").getState().get(a)}return null},e.id+".imageDimensionsSelector"),n=b("adsCreateMapSelector")(c,d,e.id+".shutterstockImageMapSelector");d=b("adsCreateMapSelector")(c,f,e.id+".fullSizeImageMapSelector");f=b("adsCreateMapSelector")(c,l,e.id+".imageNameMapSelector");l=b("adsCreateMapSelector")(c,m,e.id+".imageDimensionsMapSelector");function o(a){return!!a&&(a.isLoading()||a.isEmpty())}c=b("adsCreateStoreSelector")([].concat(n.getStores(),[b("AdsImageDimensionProviderStore")]),function(a){__p&&__p();var c=n(a);if(c.some(o))return b("LoadObject").loading();var d=b("immutable").Map().asMutable();for(var a=a.assetImageIDs.values(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var h=c.get(g);!h?d.set(g,null):d.set(g,b("AdsImageDimensionProviderStore").getState().get(h.getValueEnforcing().preview_url))}return b("LoadObject").withValue(d.asImmutable())},e.id+".shutterstockImageDimensionsMapSelector");m=b("adsCreateSelector")([a,d,f,l,n,c],function(a,c,d,e,f,l){__p&&__p();if(a==null||a.isEmpty())return b("LoadObject").withValue(null);if(l.isLoading())return b("LoadObject").loading();var m=l.getValueEnforcing();if(c.some(function(a){return a.isLoading()})||d.some(function(a){return a.isLoading()})||e.some(o)||f.some(o)||m.some(o))return b("LoadObject").loading();l=a.map(function(a){__p&&__p();if(a instanceof h){var l=a.getHash(),n=c.get(a),o=d.get(a);return k(l,n,o)}else if(a instanceof i){l=a.getUrl();n=e.get(a);o=null;if(b("ShutterstockImageUtils").isStockImageURL(l)){var p=f.get(a);p||g(0,3113);p=p.getValueEnforcing();l=p.preview_url;n=m.get(a);o=p.id}n!=null||g(0,3114);return j(l,n,o)}else return null});return b("LoadObject").withValue(b("AdsAssetSelectorsUtils").compactMap(l))},{name:e.id+".imageAssetsSelector"});d=b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageHash);e.exports={assetFeedBulkImageHashSelector:d,imageAssetsSelector:m,imageAssetIDsSelector:a}}),null);
__d("AdsCommonSplitTestReportingUtils",["AdsSplitTestConstants","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("immutable").List;function a(a,b,c){return c.length===0?Array.from(b).map(function(a,b){return{variantName:"",metric:0,id:String(b)}}):c.map(function(b){var c=b.metricByField;b.split;b=babelHelpers.objectWithoutPropertiesLoose(b,["metricByField","split"]);return babelHelpers["extends"]({},b,{metric:c.get(a)})})}function c(a){return a*100>b("AdsSplitTestConstants").MAX_CONFIDENCE_THRESHOLD}e.exports={getGraphDataForKPIFromMetricData:a,isConfidenceOverThreshold:c}}),null);
__d("AdsCommonSplitTestStringUtils",["AdsSplitTestConstants","ads-lib-formatters"],(function(a,b,c,d,e,f){"use strict";var g=b("ads-lib-formatters").createIntlPercentFormatter(0);function a(){return g(b("AdsSplitTestConstants").MAX_CONFIDENCE_THRESHOLD/100)}e.exports={getFormattedConfidenceThreshold:a}}),null);
__d("AdsSplitTestStringUtils",["fbt","invariant","AdObjectLevels","AdsAPICampaignPaths","AdsCampaignUtils","AdsCommonSplitTestReportingUtils","AdsCommonSplitTestStringUtils","AdsObjectTypes","AdsOptimizationGoalStrings","AdsOptimizationUtils","AdsOtherConsts","AdsPlacementAPISpecReaderUtils","AdsReportPublisherPlatformType","AdsSplitTestConfigUtils","AdsSplitTestConstants","AdsSplitTestPowerConstants","AdsSplitTestStrings","AdsSplitTestVariable","ads-lib-formatters","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();b("immutable").List;var i=b("ads-lib-formatters").createIntlLongNumberFormatter(0),j=b("ads-lib-formatters").createIntlPercentFormatter(0);function a(a){var c=j(Math.min(Math.max(a,b("AdsSplitTestPowerConstants").MIN_POWER),b("AdsSplitTestPowerConstants").MAX_POWER));if(a<b("AdsSplitTestPowerConstants").MIN_POWER)return g._("\u003C{percent power}",[g._param("percent power",c)]);else if(a>b("AdsSplitTestPowerConstants").MAX_POWER)return g._(">{percent power}",[g._param("percent power",c)]);else return c}function c(a,c,d,e,f){__p&&__p();d=b("AdsSplitTestConfigUtils").getSplitTestConfigSplitsIndex(a);d=g._("Ad Set {version}",[g._param("version",b("AdsSplitTestStrings").getLetterForIndex(d||0))]);switch(c){case b("AdsSplitTestVariable").TARGETING:c=a.getIn(b("AdsAPICampaignPaths").SAVED_AUDIENCE.NAME)||b("AdsCampaignUtils").generateNameFromCampaign(a);return!c?d:g._("{base string} - {saved audience name}",[g._param("base string",d),g._param("saved audience name",c)]);case b("AdsSplitTestVariable").OPTIMIZATION:c=b("AdsOptimizationUtils").getBidStrategyLabel(e,f,!!a.is_autobid,!!a.is_average_price_pacing,a.bid_strategy);return g._("{base string} - {optimization goal title} - {bidding type}",[g._param("base string",d),g._param("optimization goal title",b("AdsOptimizationGoalStrings").getTitle(a.optimization_goal)),g._param("bidding type",c)]);case b("AdsSplitTestVariable").PLACEMENT:e=b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(a);f=g._("Automatic");e&&e.publisher_platforms&&(f=e.publisher_platforms.map(function(a){return b("AdsReportPublisherPlatformType")[a]}).join(", "));return g._("{base string} - {placement name}",[g._param("base string",d),g._param("placement name",f)]);default:return d}}function d(a,b){b=b.findIndex(function(b){return b.id===a.id});return k(b)}function f(a,b){b=b.findIndex(function(b){return b.id===a.id});return l(b)}function k(a){a>=0||h(0,2571);return g._("Ad {alphabetical index, i.e. 'A', 'B', etc}",[g._param("alphabetical index, i.e. 'A', 'B', etc",b("AdsSplitTestStrings").getLetterForIndex(a))])}function l(a){a>=0||h(0,2571);return g._("{alphabetical index, i.e. 'A', 'B', etc} -",[g._param("alphabetical index, i.e. 'A', 'B', etc",b("AdsSplitTestStrings").getLetterForIndex(a))])}function m(a){return g._({"CHANGE_BUDGET":"Want to change budget?","CHANGE_SCHEDULE":"Want to change schedule?"},[g._enum(a,{CHANGE_BUDGET:"budget",CHANGE_SCHEDULE:"schedule"})])}function n(a){a===void 0&&(a=0);return a<b("AdsOtherConsts").REACH_TOO_LOW_NUMBER?g._("fewer than {user count}",[g._param("user count",i(b("AdsOtherConsts").REACH_TOO_LOW_NUMBER))]):i(a)}function o(a){return a?g._("Winning Ad Found"):g._("Winning Ad Set Found")}function p(a){return a?g._("No Winning Ad Found"):g._("No Winning Ad Set Found")}function q(a,c){var d=c.getParamBool("use_alternative_messaging",!1);c=function(){return d?g._("There's a {confidence percentage} chance this is the better strategy.",[g._param("confidence percentage",j(a))]):g._("There's a {confidence percentage} chance you'd get the same winner if you ran this test again.",[g._param("confidence percentage",j(a))])};var e=function(){return d?g._("There's a greater than {confidence threshold} chance this is the better strategy.",[g._param("confidence threshold",b("AdsCommonSplitTestStringUtils").getFormattedConfidenceThreshold())]):g._("If you ran this test again, the chance of getting the same winner is greater than {confidence threshold}.",[g._param("confidence threshold",b("AdsCommonSplitTestStringUtils").getFormattedConfidenceThreshold())])};return b("AdsCommonSplitTestReportingUtils").isConfidenceOverThreshold(a)?e():c()}function r(a){return a===b("AdObjectLevels").ADGROUP?g._("Run Winning Ad"):g._("Run Winning Ad Set")}function s(a){return a===b("AdObjectLevels").ADGROUP?g._("Run Ad"):g._("Run Ad Set")}function t(a){return a.map(function(a){return Math.round(a*100/b("AdsSplitTestConstants").SPLIT_TEST_BUCKETS)}).join("/")}function u(a,b){b=b.findIndex(function(b){return b===a});return v(b)}function v(a){a>=0||h(0,2570);return g._("Ad Set for Ad {version, i.e. 'A', 'B', etc}",[g._param("version, i.e. 'A', 'B', etc",b("AdsSplitTestStrings").getLetterForIndex(a))])}function w(a){switch(a){case b("AdsObjectTypes").CAMPAIGN:return g._("Enter an ad set name");case b("AdsObjectTypes").ADGROUP:return g._("Enter an ad name");default:return null}}function x(a){return a?b("AdsSplitTestStrings").testVariables[a].label:"\u2014"}function y(a,b){return g._("{object type and object version} {object name}",[g._param("object type and object version",a),g._param("object name",b)])}function z(a,c,d){c=typeof c==="number"?b("AdsSplitTestStrings").getLetterForIndex(c).toString():"";return g._({"CAMPAIGN_GROUP":"Campaign{version name}{secondary version name}:","CAMPAIGN":"Ad Set{version name}{secondary version name}:","ADGROUP":"Ad{version name}{secondary version name}:"},[g._enum(a,{CAMPAIGN_GROUP:"Campaign",CAMPAIGN:"Ad Set",ADGROUP:"Ad"}),g._param("version name",c!==""?" "+c:null),g._param("secondary version name",d!=null?""+(d+1):null)])}function A(a,c){switch(a){case b("AdsSplitTestVariable").CREATIVE:return c===2?g._("When you finish setting up Ad A, those settings will be copied over to Ad B. From there, you can make any necessary edits to your creative, then publish your test."):g._("When you finish setting up your first ad, those settings will be copied over to the other ads in your test. From there, you can make any necessary edits to your creative, then publish your test.");case b("AdsSplitTestVariable").PLACEMENT:return g._("Your campaign was split evenly into 2 ad sets. Ad Set A will use automatic placements. Choose which placements you'd like for Ad Set B, finish setting up your campaign, then publish your test. You'll be able to see your test progress in Ads Manager.");case b("AdsSplitTestVariable").OPTIMIZATION:return g._("Your campaign was split evenly into 2 ad sets. Ad Set A will optimize for landing page views and Ad Set B will optimize for link clicks. When you publish your test, you'll be able to see your test progress in Ads Manager.");case b("AdsSplitTestVariable").TARGETING:return g._("Your campaign was split evenly into {number of ad sets} ad sets using the audiences you defined. Finish setting up your campaign, then publish your test. You'll be able to see your test progress in Ads Manager.",[g._param("number of ad sets",c)]);default:return""}}function B(){return g._("We recommend using a budget that gives you a power of at least {recommended power, i.e. 80\u0025} to improve your chances of a successful test.",[g._param("recommended power, i.e. 80%",j(b("AdsSplitTestPowerConstants").RECOMMENDED_POWER))])}e.exports={formatTestPower:a,getActionBlockedDialogTitleText:m,getConfidenceMessaging:q,getCreativeSplitTestNameFieldLabelForAdgroupWithIndex:l,getCreativeSplitTestNameForAdgroup:d,getCreativeSplitTestNameForAdgroupWithIndex:k,getDefaultCampaignName:c,getDefaultCampaignNameForCreativeSplitTest:u,getFormattedTestVariable:x,getInputPlaceholder:w,getNoWinnerFoundHeader:p,getPowerRecommendationSentence:B,getReachLabel:n,getRunAdObjectButtonText:s,getRunWinnerButtonText:r,getSplitPercentsString:t,getSplitTestSummaryObjectHeader:y,getSplitTestSummaryObjectTitle:z,getUpsellConfirmationMessage:A,getWinnerFoundHeader:o,getCreativeSplitTestNameFieldLabelForAdgroup:f}}),null);
__d("AdsSplitTestBudgetRecommendationUtils",["AdsAPIObjectives","AdsCampaignUtils","AdsDeliveryBudgetModes","AdsSplitTestBudgetUtils","AdsSplitTestConfigUtils","AdsSplitTestConstants","AdsSplitTestPowerConstants","AdsSplitTestSitevarConfig","Currency","firstx","minBy","nullthrows","objectEntries","parseISODate","sortBy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){return Math.min(Math.max(a.instant<=c.instant?Math.round(b("AdsCampaignUtils").getCampaignDayCount(a.toDate(),c.toDate())):0,b("AdsSplitTestConstants").MIN_LENGTH_DAYS),b("AdsSplitTestConstants").MAX_LENGTH_DAYS)}function g(a,c){return b("AdsCampaignUtils").getCampaignDayCount(b("parseISODate")(a),b("parseISODate")(c))}function c(a,b){return[h(b),a.currency].join(",")}function h(a){switch(a){case b("AdsAPIObjectives").EVENT_RESPONSES:case b("AdsAPIObjectives").IMPRESSIONS:case b("AdsAPIObjectives").PAGE_LIKES:case b("AdsAPIObjectives").POST_ENGAGEMENT:return"engagement";case b("AdsAPIObjectives").CONVERSIONS:case b("AdsAPIObjectives").PRODUCT_CATALOG_SALES:case b("AdsAPIObjectives").WEBSITE_CONVERSIONS:return"website_conversions";case b("AdsAPIObjectives").APP_INSTALLS:case b("AdsAPIObjectives").CANVAS_APP_INSTALLS:case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:return"app_installs";default:return a.toLowerCase()}}function d(a,c){__p&&__p();a=b("sortBy")(b("objectEntries")(a).map(function(b){var a=b[0];b=b[1];return[parseFloat(a),b]}),function(b){var a=b[0];b[1];return-a});a=b("nullthrows")(b("minBy")(a,function(a){a[0];a=a[1];return Math.abs(a-c)}));var d=a[0];a[1];return d}function f(a,c,d,e,f){a=a[String(b("AdsSplitTestPowerConstants").RECOMMENDED_POWER)];f=f?a:Math.max(a,i(c.currency));a=b("AdsSplitTestConfigUtils").getNumSplitsEnforcing(d);f=f*a;a=g(b("AdsSplitTestConfigUtils").getSplitTestStartTimeEnforcing(d),b("AdsSplitTestConfigUtils").getSplitTestEndTimeEnforcing(d));f=a===0?0:b("AdsCampaignUtils").getBudgetMode(b("firstx")(e))===b("AdsDeliveryBudgetModes").LIFETIME?f:f/a;a=b("AdsSplitTestBudgetUtils").getMinBudgetCalculatedByCampaignSettingsAndSplits(c,b("AdsSplitTestConfigUtils").getSplitTestSplitsForAdsAPICampaignGroupRecordEnforcing(d),e,d);return j(Math.max(f,a),c.currency)}function i(a){return b("AdsCampaignUtils").convertUSDBudgetToCurrency(a,b("AdsSplitTestSitevarConfig").MIN_DEFAULT_LIFETIME_BUDGET_PER_CELL_USD)}function j(a,c){c=b("Currency").getOffset(c);return Math.ceil(a/c)*c}e.exports={getBoundedTestDayCount:a,getPowerEstimateKeyString:c,getPowerForBudget:d,getTestBudgetForRecommendedPower:f,getTestDayCount:g,roundBudget:j}}),null);
__d("AdsSplitTestBudgetUtils",["AdsAPICampaignGroupPaths","AdsAPICampaignGroupRecordUtils","AdsBudgetValidationUtils","AdsCampaignUtils","AdsCommonSplitTestBudgetUtils","AdsCurrencyFormatter","AdsDeliveryBudgetModes","AdsSplitTestBudgetMode","AdsSplitTestBudgetRecommendationUtils","AdsSplitTestConfigUtils","AdsSplitTestConstants","AdsSplitTestSitevarConfig","AdsTestedFBTStrings","getByPath","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCommonSplitTestBudgetUtils").getEvenSplitPercentages,h=b("AdsCommonSplitTestBudgetUtils").getSplitTestBudgetMode,i=b("AdsSplitTestBudgetRecommendationUtils").getBoundedTestDayCount;function a(a){return a===b("AdsSplitTestBudgetMode").EVEN?b("AdsTestedFBTStrings").EVEN_SPLIT:b("AdsTestedFBTStrings").WEIGHTED_SPLIT}function c(a,c){return c==null?null:b("AdsCurrencyFormatter").formatCurrencyFullFormat(a,c,!0,!0)}function d(a,c){return c==null?null:b("AdsCurrencyFormatter").formatCurrencyFullFormat(a,c,!1,!0)}function f(a,c,d,e,f,g){__p&&__p();var h=b("AdsSplitTestConstants").SPLIT_TEST_BUCKETS;c.forEach(function(a){return h=Math.min(a,h)});var j=b("AdsSplitTestSitevarConfig").BID_COEFFICIENT*b("AdsSplitTestConstants").SPLIT_TEST_BUCKETS/h;if(d){var l=d.startTime;d=d.endTime;j/=i(l,d)}j=b("AdsCampaignUtils").convertUSDBudgetToCurrency(a,Math.floor(j));!!f&&!!e&&!!g&&(j=Math.max(j,k(e,c,f,g)));return j}function j(a,c,d){return h(a)===b("AdsSplitTestBudgetMode").EVEN?d*a.length:Math.ceil(d*b("AdsSplitTestConstants").SPLIT_TEST_BUCKETS/c)}function k(a,c,d,e){if(b("AdsAPICampaignGroupRecordUtils").hasBudget(e))return 0;var f=0,g=Array.isArray(c)?c:c.toArray();d.forEach(function(c){var d=b("AdsSplitTestConfigUtils").getSplitTestConfigSplitsIndexEnforcing(c);f=Math.max(f,b("AdsBudgetValidationUtils").getMinimumBudget(b("getByPath")(e,b("AdsAPICampaignGroupPaths").BUYING_TYPE),b("getByPath")(e,b("AdsAPICampaignGroupPaths").OBJECTIVE),a,c)*b("AdsSplitTestConstants").SPLIT_TEST_BUCKETS/g[d])});return Math.floor(f)}function l(a,c,d){c=c!=null&&c!==0?Math.round(c):Math.round(b("AdsSplitTestConstants").SPLIT_TEST_BUCKETS*(1.1-a*.1));d=d||0;a=g(a-1,b("AdsSplitTestConstants").SPLIT_TEST_BUCKETS-c);a.splice(d,0,c);return a}function m(a){var b=null,c;a.forEach(function(a,d){(b===null||a>c)&&(c=a,b=d)});return b}function n(a,c){return a===b("AdsSplitTestBudgetMode").WEIGHTED?l(c):g(c)}function o(a){return a.every(b("AdsCampaignUtils").isDailyBudget)?b("AdsDeliveryBudgetModes").DAILY:a.every(b("AdsCampaignUtils").isLifetimeBudget)?b("AdsDeliveryBudgetModes").LIFETIME:null}function p(a){return b("nullthrows")(o(a))}e.exports={formatBudgetSplitMode:a,formatCurrency:c,formatCurrencyShort:d,getCampaignGroupBudgetFromCampaignBudget:j,getBasicRecommendedBudget:f,getMinBudgetCalculatedByCampaignSettingsAndSplits:k,getSplitTestDeliveryBudgetMode:o,getSplitTestDeliveryBudgetModeEnforcing:p,getSplitsByBudgetModeAndSplitsLength:n,getWeightedSplitPercentages:l,getWeightedSplitPresetIndex:m}}),null);
__d("AdsReachFrequencyGuidanceConstants",[],(function(a,b,c,d,e,f){"use strict";a="1168829329822087";b="1038525642904933";c="251123081984768";d="298717656925097";f="1913076955623778";var g="1665333080167380",h="766715466840303",i="2051461368219124",j="314975868920621",k="1726703664294651",l="144013386262607",m="196864494226144";e.exports={HELP_ID_RF_BUYING:a,HELP_ID_RF_CANCEL_CAMPAIGN:b,HELP_ID_RF_GENERAL_REACH_FREQUENCY:c,HELP_ID_RF_INVALID_TARGETING_PARTNER_CATEGORIES:d,HELP_ID_RF_PLANNER_WHATS_NEW:f,HELP_ID_RF_REACH_ESTIMATE_UPDATED_NOTICE:g,HELP_ID_RF_SEQUENCING:h,HELP_ID_RF_THRUPLAY:i,HELP_ID_RF_UNDER_DELIVERING:j,HELP_ID_RF_UNDER_DELIVERY_LOW_QUALITY:k,HELP_ID_RF_VIDEO_VIEW_2_SECONDS_CAMPAIGNS:l,HELP_ID_RF_VIDEO_VIEW_RATE_IMPACTING_COST:m}}),null);
__d("AdsTargetingPotentialReachTooltipLink.react",["fbt","AdsReachFrequencyGuidanceConstants","React","SUIBusinessTheme","SUILink.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("AdsReachFrequencyGuidanceConstants").HELP_ID_RF_REACH_ESTIMATE_UPDATED_NOTICE;function a(){return b("React").createElement(b("SUILink.react"),{href:"/business/help/"+h,target:"_blank",theme:b("SUIBusinessTheme")},g._("Learn more."))}e.exports=a}),null);
__d("AdsTargetingPotentialReachConstant",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Estimated Audience");b=g._("people are eligible to see your ad");c=g._("How we calculate eligibility");d=g._("This is an estimate of the size of the audience that's eligible to see your ad. It's based on your targeting criteria, ad placements and how many people were shown ads on Facebook apps and services in the past 30 days.");f=g._("This is not an estimate of how many people will actually see your ad, and the number may change over time. It isn't designed to match population or census estimates.");var h=g._("This estimate is affected by the ad placements you selected:"),i=g._("Expand interests when it may increase conversions at a lower cost per conversion. This will increase audience size."),j=g._("This lets Facebook expand the interests in your detailed targeting criteria if there's a chance to reach more people likely to convert."),k=g._("Audience Size"),l=g._("Audience Definition"),m=g._("Potential Audience Size"),n=g._("Potential reach"),o=g._("Potential Reach:"),p=g._("This is an estimate of the size of the audience that could see your ad. Campaigns with targeting criteria and placements similar to those you selected have reached audiences of this size, although their budgets may have been different from yours. This number is not a prediction of how many people your ad will reach, and it may change over time."),q=g._("Estimates are based on the topic and audience criteria you select and include factors like user behaviors, demographics and location data. They're designed to estimate how many people meet the audience criteria you specified. They're not designed to match population or census estimates. Numbers may vary due to performance reasons."),r=g._(["Estimates are based on the placements and targeting criteria you select and include factors like Facebook user behaviors, user demographics and location data. They're designed to estimate how many people in a given area could see an ad a business might run. They're not designed to match population or census estimates. Numbers may vary due to performance reasons.","770d3761ddd467a6f43c76535a777cce",1]),s=g._("How this number is estimated"),t=[{label:g._("Overview"),value:"Overview"},{label:g._("Details"),value:"Details"}],u=g._("We've updated how we estimate audience size."),v=g._("We've updated how we estimate audience size, which will affect your \u0025 target audience estimates.");g=g._("We've Updated How We Estimate Audience Size");e.exports={AUDIENCE_INSIGHTS_REACH_ESTIMATE_BLUE_TIP_CONTENT:u,AUDIENCE_INSIGHTS_REACH_ESTIMATE_CONTENT:q,DEFAULT_CONTENT:r,ESTIMATED_AUDIENCE_SIZE_TEXT:n,ESTIMATED_AUDIENCE_SIZE_TITLE:o,ESTIMATED_SIZE_DETAILS:b,ESTIMATED_SIZE_DISCLAIMER:f,ESTIMATED_SIZE_EXPLANATION:d,ESTIMATED_SIZE_PLACEMENT_TOOLTIP:h,ESTIMATED_SIZE_PRODUCT_TITLE:a,ESTIMATED_SIZE_RELAXATION_NOTICE:i,ESTIMATED_SIZE_RELAXATION_TOOLTIP:j,ESTIMATED_SIZE_TRAY_TITLE:c,MAX_LIFETIME_REACH_CONTENT:p,MAX_LIFETIME_REACH_TITLE:m,POTENTIAL_REACH_TITLE_IN_CREATION_FLOW:k,POTENTIAL_REACH_TITLE_IN_EDIT_FLOW:l,REACH_AND_FREQUENCY_REACH_ESTIMATE_CONTENT_UPDATED_NOTICE:v,REACH_AND_FREQUENCY_REACH_ESTIMATE_CONTENT_UPDATED_NOTICE_TITLE:g,TITLE:s,TABS:t}}),null);
__d("AdsReachFrequencyPotentialReachTooltipOverviewContent.react",["fbt","AdsTargetingPotentialReachConstant","AdsTargetingPotentialReachTooltipLink.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("AdsTargetingPotentialReachConstant").ESTIMATED_SIZE_DISCLAIMER,i=b("AdsTargetingPotentialReachConstant").ESTIMATED_SIZE_EXPLANATION;function a(a){var c=a.showImpressionUI===!0?i:g._("This is the percentage of your target audience that you can predictably reach with your stated budget.");a=a.showImpressionUI===!0?h:g._("Estimates are based on the placements and targeting criteria you select and include factors like Facebook user behavior, user demographics and location data. They're designed to estimate how many people in a given area could see an ad a business might run. They're not designed to match population or census estimates. Numbers may vary due to performance reasons.");return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1"},c),b("React").createElement("br",null),b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1"},a," ",b("React").createElement(b("AdsTargetingPotentialReachTooltipLink.react"),null)))}e.exports=a}),null);
__d("AdsAudienceManagerOverviewPlacementsContent.react",["cx","fbt","AdsLearnMore.react","AdsLearnMoreStrings","AdsReachFrequencyGuidanceConstants","AdsReachFrequencyPotentialReachTooltipOverviewContent.react","AdsTargetingPotentialReachConstant","Link.react","React","SUIBusinessTheme","SUITabGroup.react","SUIText.react","intlList"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsReachFrequencyGuidanceConstants").HELP_ID_RF_REACH_ESTIMATE_UPDATED_NOTICE,j=b("AdsTargetingPotentialReachConstant").DEFAULT_CONTENT,k=b("AdsTargetingPotentialReachConstant").ESTIMATED_SIZE_DISCLAIMER,l=b("AdsTargetingPotentialReachConstant").ESTIMATED_SIZE_EXPLANATION,m=b("AdsTargetingPotentialReachConstant").ESTIMATED_SIZE_PLACEMENT_TOOLTIP,n=b("AdsTargetingPotentialReachConstant").TABS,o=b("AdsTargetingPotentialReachConstant").TITLE;function p(a){return a!=null&&a!==""?a:j}function q(a){return a===!0?b("React").createElement(b("Link.react"),{href:"/help/717368264947302",target:"_blank"},b("AdsLearnMoreStrings").STANDALONE_LEARN_MORE):b("React").createElement(b("AdsLearnMore.react"),{cmsID:i,isStandalone:!0})}function r(a){var c=a.positions.map(function(a){return a.label});return b("React").createElement("div",{className:"_3-95"},b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},a.label,":"," "),b("intlList")(c))}function s(a){var c=a.showImpressionUI===!0?m:h._("Estimates are affected by the following placements:");return b("React").createElement("div",null,b("React").createElement("div",{className:"_3-95"},c),a.placementLabels.map(function(a){return b("React").createElement(r,babelHelpers["extends"]({},a,{key:a.platformType}))}))}function t(a){var c=q(a.hideAMHelpTray),d=b("React").createElement("div",null,l,b("React").createElement("br",null),b("React").createElement("br",null),k);d=a.showImpressionUI===!0?d:p(a.content);return a.isReachFrequency===!0?b("React").createElement(b("AdsReachFrequencyPotentialReachTooltipOverviewContent.react"),{showImpressionUI:a.showImpressionUI}):b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",style:{marginBottom:12},theme:b("SUIBusinessTheme")},d,b("React").createElement("br",null),a.showMaxLifetimeReach===!0?null:c)}function u(a){var c=a.isReachFrequency===!0?null:b("React").createElement(b("SUIText.react"),{display:"block",size:"regular_DEPRECATED",style:{marginBottom:12},theme:b("SUIBusinessTheme"),weight:"bold"},o);return b("React").createElement("div",null,c,b("React").createElement(t,a))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={activeTab:"Overview"},c.$1=function(a){c.setState({activeTab:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.content,d=a.placementLabels;a=a.isReachFrequency;if(!d)return b("React").createElement(u,{content:p(c),isReachFrequency:a});d=a===!0?null:b("React").createElement(b("SUIText.react"),{display:"block",size:"regular_DEPRECATED",theme:b("SUIBusinessTheme"),weight:"bold"},o);return b("React").createElement("div",null,d,b("React").createElement(b("SUITabGroup.react"),{tabs:n,theme:b("SUIBusinessTheme"),value:this.state.activeTab,onChange:this.$1}),b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",style:{marginBottom:12,marginTop:8},theme:b("SUIBusinessTheme")},this.state.activeTab==="Overview"?b("React").createElement(t,this.props):b("React").createElement(s,this.props)))};return c}(b("React").Component);a.defaultProps={isReachFrequency:!1,showImpressionUI:!1,showMaxLifetimeReach:!1};e.exports=a}),null);
__d("AdsTargetingPlacementsUtils",["AdsAPITargetFields","AdsPlacementPlatformLabelConstant","AdsPlacementPositionLabelConstant"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("AdsAPITargetFields").FACEBOOK_POSITIONS,b("AdsAPITargetFields").INSTAGRAM_POSITIONS,b("AdsAPITargetFields").MESSENGER_POSITIONS,b("AdsAPITargetFields").AUDIENCE_NETWORK_POSITIONS,b("AdsAPITargetFields").WHATSAPP_POSITIONS];function a(a){__p&&__p();var c=[];if(!a)return c;g.map(function(d){var e=a[d];if(!e||e.length===0)return;e=e.map(function(a){return{positionType:a,label:b("AdsPlacementPositionLabelConstant")[a]}});c.push({label:b("AdsPlacementPlatformLabelConstant")[d],platformType:d,positions:e})});return c}e.exports={getLabelsFromAPISpec:a}}),null);
__d("AdsPlacementAssetCustomizationSelectors",["AdsAccountUtils","AdsAdgroupLiveStore","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPICampaignPaths","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsCFAdgroupUtils","AdsLocalizedPlacementsUtils","AdsPlacementAssetEligibilityUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementEligibilityInfoUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignSelectors","ApiDynamicCreativeOptimizationAdFormat","LoadObject","adsCreateAdAccountQESelector","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","adsGetUniformValueSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorBlockListAccountListSelector","getByPath","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsUEditorCampaignSelectors").eligibilityInformation;c=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a,c){return b("AdsPlacementAssetUtils").getCustomizationGroupInfoFromAdObjectList(c)},{name:e.id+".candidateAssetGroupSelector"});d=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return a.map(function(a){return a.adgroup.id}).filter(function(a){return!b("AdsCFAdgroupUtils").isNewID(a)})},{name:e.id+".liveAdgroupIDsSelector"});f=b("adsCreateStoreSelector")([b("AdsAdgroupLiveStore")],function(a){return b("AdsAdgroupLiveStore").getCached(a).getValue()},e.id+".liveAdgroupSelector");d=b("adsCreateMapSelector")(d,f,e.id+".liveAdgroupMapSelector");f=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("adsUEditorBlockListAccountListSelector"),b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),d],function(a,c,d,e){__p&&__p();d=d.map(function(d){__p&&__p();var f=d.adgroup,g=d.campaign;d=d.campaignGroup;var h=b("AdsAccountUtils").hasCapability(a,"CAN_USE_PAC_PHASE2_STATIC_ADS_EDITING"),i=e.get(f.id);if(i&&i.creative&&!b("AdsAssetFeedUtils").isPACAdgroupFromSpec(i)&&!h)return b("LoadObject").withValue(!1);i=d.buying_type;h=d.objective;d=b("getByPath")(g,b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL);i=b("AdsPlacementEligibilityInfoUtils").buildEligibilityInformationFromCampaignSpec(g,i,a.capabilities,h,c,d);return b("LoadObject").withValue(b("AdsPlacementAssetEligibilityUtils").isEligibleForPlacementAssetCustomizationPhase2(g,f,i)&&!b("AdsPlacementAssetEligibilityUtils").isPhase1Preferred(i.spec,i.capabilities))});if(d.some(function(a){return a.isLoading()}))return b("LoadObject").loading();d=d.every(function(a){return a.getValueEnforcing()});return b("LoadObject").withValue(!d)},{name:e.id+".adsUEditorAdgroupIsUsingPlatformCustomizationUISelector"});d=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("adsUEditorBlockListAccountListSelector"),b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),d,a],function(a,c,d,e,f){__p&&__p();c=b("AdsAccountUtils").hasCapability(a,"CAN_USE_PAC_PHASE2_STATIC_ADS_EDITING");a=b("AdsAccountUtils").hasCapability(a,"SHOW_DUPLICATE_AD_ALLOWS_PAC2");if(c||!a)return b("LoadObject").withValue(!1);c=d.map(function(a){var c=a.adgroup;a=a.campaign;var d=e.get(c.id);return d==null||d.creative==null||b("AdsAssetFeedUtils").isPACAdgroupFromSpec(d)?b("LoadObject").withValue(!1):b("LoadObject").withValue(b("AdsPlacementAssetEligibilityUtils").isEligibleForPhase2RegardlessOfPhase1(a,c,f))});if(c.some(function(a){return a.isLoading()}))return b("LoadObject").loading();a=c.every(function(a){return a.getValueEnforcing()});return b("LoadObject").withValue(a)},{name:e.id+".adsUEditorPublishedAdgroupCouldSupportPAC2AfterDuplicationSelector"});a=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return b("AdsPlacementAssetUtils").getPlacementAssetSelectorConfigForAdObjectList(a)},{name:e.id+".pacConfigSelector"});var g=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsLocalizedPlacementsUtils").getTargetOrAssetCustomizationRulesPath()),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS),null),b("adsUEditorAccountSelector")],function(a,c,d,e){__p&&__p();if(!b("AdsAccountUtils").hasCapability(e,"PLACEMENT_EDITOR_ASSET"))return b("immutable").Map();if(d==null||a==null||c==null)return b("immutable").Map();var f=h(d.get(0));e=b("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(a);if(e==null||f==null)return b("immutable").Map();var g=b("AdsPlacementAssetUtils").getCustomizedAssetLabelList(a,c,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS);return a.reduce(function(a,d){var e=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(d,b("nullthrows")(f));if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(d,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL)){d=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(d,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);var h=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(c,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,d,b("AdsAPIAdAssetFeedBodiesFields").TEXT).fieldValue;if(h!=null)return a.set(e,{body:h,isCustomized:g.includes(d)})}return a},b("immutable").Map())},{name:e.id+".adsUEditorPACBodyAssetInfoByMediaAssetLabel"});function h(a){var c;switch(a){case b("ApiDynamicCreativeOptimizationAdFormat").SINGLE_IMAGE:c=b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL;break;case b("ApiDynamicCreativeOptimizationAdFormat").SINGLE_VIDEO:c=b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL;break;default:c=null;break}return c}var i=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsLocalizedPlacementsUtils").getTargetOrAssetCustomizationRulesPath()),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS),null)],function(a,c,d){if(d==null||d.get(0)!==b("ApiDynamicCreativeOptimizationAdFormat").SINGLE_IMAGE)return b("immutable").List();d=b("AdsPlacementAssetUtils").getCustomizedAssetLabelList(a,c,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL,b("AdsAPIAdAssetFeedImagesFields").ADLABELS);return d||b("immutable").List()},{name:e.id+".adsUEditorPACCustomizedImageAssetLabelSelector"}),j=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsLocalizedPlacementsUtils").getTargetOrAssetCustomizationRulesPath()),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS),null),b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS),null)],function(a,c,d){if(d==null||d.get(0)!==b("ApiDynamicCreativeOptimizationAdFormat").SINGLE_VIDEO)return b("immutable").List();d=b("AdsPlacementAssetUtils").getCustomizedAssetLabelList(a,c,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL,b("AdsAPIAdAssetFeedVideosFields").ADLABELS);return d||b("immutable").List()},{name:e.id+".adsUEditorPACCustomizedVideoAssetLabelSelector"}),k=b("adsCreateSelector")([b("adsCreateAdAccountQESelector")("pac_dropdown_experiments")],function(a){var b=a.isDone()&&a.hasValue();return b&&a.getValueEnforcing().getParamBool("should_user_preferred_order",!1)},{name:e.id+".adsUEditorPACShouldSortAssetGroupsByPreferredOrderSelector"});e.exports={adsUEditorAdgroupIsUsingPlatformCustomizationUISelector:f,adsUEditorPACBodyAssetInfoByMediaAssetLabel:g,adsUEditorPACCustomizedImageAssetLabelSelector:i,adsUEditorPACCustomizedVideoAssetLabelSelector:j,adsUEditorPACShouldSortAssetGroupsByPreferredOrderSelector:k,adsUEditorPublishedAdgroupCouldSupportPAC2AfterDuplicationSelector:d,candidateAssetGroupSelector:c,pacConfigSelector:a}}),null);
__d("adsCanUseCropPerPlacementV1Selector",["AdsAccountUtils","adsCreateSelector","adsUEditorAccountSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsUEditorAccountSelector")],function(a){return b("AdsAccountUtils").hasCapability(a,"CAN_USE_CROP_PER_PLACEMENT_V1")},{name:e.id});e.exports=a}),null);
__d("AdsImagePlacementAssetCustomizationSelectors",["invariant","AdsAccountUtils","AdsAPIAdAssetFeedImagesFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPICampaignPaths","AdsAssetFeedFieldUtils","AdsAssetSelectorsUtils","AdsBulkValueUtils","AdsImageAssetSelectors","AdsImageLegacy","AdsLocalizedPlacementsUtils","AdsMixedValue","AdsPlacementAPISpecDefaultsUtils","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetEligibilityUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementAssetValidationUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignSelectors","AdsUnifiedCreativeAPIFields","AdsUniformValue","ApiDynamicCreativeOptimizationTypes","LoadObject","adsCanUseCropPerPlacementV1Selector","adsContainsAssetCustomizationPlacement","adsCreateSelector","adsCreateStoreSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorAllowFlexibleImageHeightForFBFeedSelector","getByPath","immutable","nullthrows","onlyx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsImageAssetSelectors").assetFeedBulkImageHashSelector;c=b("AdsImageAssetSelectors").imageAssetsSelector;d=b("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupIsUsingPlatformCustomizationUISelector;f=b("AdsPlacementAssetCustomizationSelectors").adsUEditorPACBodyAssetInfoByMediaAssetLabel;var h=b("AdsPlacementAssetCustomizationSelectors").adsUEditorPACCustomizedImageAssetLabelSelector,i=b("AdsPlacementAssetCustomizationSelectors").adsUEditorPACShouldSortAssetGroupsByPreferredOrderSelector,j=b("AdsPlacementAssetCustomizationSelectors").adsUEditorPublishedAdgroupCouldSupportPAC2AfterDuplicationSelector,k=b("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector,l=b("AdsPlacementAssetCustomizationSelectors").pacConfigSelector,m=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups,n=b("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder;function o(a){var c=a.crops,d=a.hash;a=a.url;if(c instanceof b("AdsMixedValue")||d instanceof b("AdsMixedValue")||a instanceof b("AdsMixedValue"))return null;var e;c&&(e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c),e instanceof b("immutable").Map&&(e=e.toJS()));return{crops:c?e:null,hash:d?b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(d):null,url:a?b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a):null}}var p=b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageCrops),q=b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageHash),r=b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageURL),s=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.path),t=b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path)],function(a){return!b("AdsBulkValueUtils").isNullValue(a)},{name:e.id+".someSelectedAdgroupsUseAssetFeedSelector"});p=b("adsCreateSelector")([l,b("adsUEditorAccountSelector"),k,d,p,q,r,s,t],function(a,c,d,e,f,g,h,i,j){__p&&__p();if(j)return b("LoadObject").empty();j=o({crops:f,hash:g,url:h});f=i instanceof b("AdsUniformValue")?i.getValue():null;g={crops:f==null?void 0:f.image_crops,hash:f==null?void 0:f.image_hash,url:f==null?void 0:f.image_url};if(j==null)return b("LoadObject").empty();if(j.hash==null&&j.url==null)return b("LoadObject").empty();if(e.isLoading())return b("LoadObject").loading();h=e.getValueEnforcing();i={};e={};var k=null,l=[],n=b("immutable").Map(),p=null;i[a.basePlacementGroup]=b("AdsAssetSelectorsUtils").getImageID(c.account_id,j.hash,j.url);e[a.basePlacementGroup]=j.crops;if(f!=null)i[m.INSTAGRAM]=b("AdsAssetSelectorsUtils").getImageID(c.account_id,g.hash,g.url),e[m.INSTAGRAM]=g.crops;else if(!h&&d){l=d.assetGroups;j=b("AdsAccountUtils").hasCapability(c,"INSTREAM_NON_INTERRUPTIVE_PAC");l=b("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(l,j);n=d.placementsByAssetGroup;p=b("immutable").List.of(a.basePlacementGroup);f=b("immutable").List(l.map(function(a){return n.get(a)})).flatten();k=b("immutable").Map((g={},g[a.basePlacementGroup]=f,g))}return b("LoadObject").withValue({assetGroups:l,assetImageIDs:b("AdsAssetSelectorsUtils").compactMap(b("immutable").Map(i)),assetsPlacements:k,cropsByAsset:b("immutable").Map(e),labels:p,placementsByAssetGroup:n})},{name:e.id+".adsUEditorPlacementAssetSelectorNonAssetFeedAdgroupDataSelector"});q=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE);r=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsLocalizedPlacementsUtils").getTargetOrAssetCustomizationRulesPath());s=b("adsCreateSelector")([b("adsUEditorAccountSelector"),q,a,r,k],function(a,c,d,e,f){__p&&__p();if(b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c)!==b("ApiDynamicCreativeOptimizationTypes").PLACEMENT||d instanceof b("AdsMixedValue")||e instanceof b("AdsMixedValue")||!f)return b("LoadObject").empty();c=f.assetGroups;var h=f.placementsByAssetGroup;f=b("AdsPlacementAssetTargetingRuleUtils").targetingRuleByFieldsTypeFromTargetingRules(b("AdsBulkValueUtils").getUniformValue(e,null),b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL);e=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsList(f,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL);f=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsPlacementListsMap(f,b("AdsAPIAdAssetTargetRuleFields").IMAGE_LABEL);d=b("AdsBulkValueUtils").getUniformValue(d,null);typeof d!=="string"&&d!=null||g(0,4835);var i=b("AdsAccountUtils").hasCapability(a,"CAN_USE_PAC_PHASE2_ASSET_DEDUPLICATION");d=b("AdsAssetFeedFieldUtils").getAssetMapForLabels(d,b("AdsAPIAdAssetFeedImagesFields").ADLABELS,e,i);i=b("AdsAssetSelectorsUtils").compactMap(d.map(function(c){return b("AdsAssetSelectorsUtils").getImageID(a.account_id,b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(c,b("AdsAPIAdAssetFeedImagesFields").HASH),b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(c,b("AdsAPIAdAssetFeedImagesFields").URL))}));d=b("AdsAssetSelectorsUtils").compactMap(d.map(function(a){a=b("AdsAssetFeedFieldUtils").getImageAssetCrops(a);return a?a.toJS():null}));var j=b("AdsAccountUtils").hasCapability(a,"INSTREAM_NON_INTERRUPTIVE_PAC");c=b("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(c,j);var k=b("immutable").List(c.map(function(a){return h.get(a)})).flatten();f=f.map(function(a){return a.filter(function(a){return b("adsContainsAssetCustomizationPlacement")(k,a)})});return b("LoadObject").withValue({assetGroups:c,assetImageIDs:i,assetsPlacements:f,cropsByAsset:d,labels:e,placementsByAssetGroup:h})},{name:e.id+".adsUEditorPlacementAssetSelectorAssetFeedAdgroupDataSelector"});t=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){a=a.map(function(a){return b("getByPath")(a.campaign,b("AdsAPICampaignPaths").TARGETING.DEVICE_PLATFORMS)});return a.length!==1||a[0]==null?null:a[0].toArray()},{name:e.id+".adsUEditorDevicePlatformsSelector"});q=b("adsCreateStoreSelector")([],function(a){return a.assetGroups},e.id+".assetGroupsSelector");a=b("adsCreateStoreSelector")([],function(a){return a.assetsPlacements},e.id+".assetsPlacementsSelector");r=b("adsCreateStoreSelector")([],function(a){return a.cropsByAsset},e.id+".rawCropsByAssetSelector");k=b("adsCreateSelector")([r],function(a){return a.map(function(a){return a instanceof b("immutable").Map?a.toJS():a})},{name:e.id+".cropsByAssetSelector"});r=b("adsCreateStoreSelector")([],function(a){return a.labels},e.id+".labelsSelector");var u=b("adsCreateStoreSelector")([],function(a){return a.placementsByAssetGroup},e.id+".placementsByAssetGroupSelector"),v=b("adsCreateSelector")([c,a,q],function(a,c,d){__p&&__p();if(!c||a.isLoading())return null;a=a.getValueEnforcing();if(!a)return null;a=a.map(function(a,d){return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(c.get(d))});var e=a.filter(function(a){return a.isEmpty()});if(!e.isEmpty()){e=b("onlyx")(e.keys());var f=b("immutable").Set(a.values()).flatten();d=b("immutable").Set(d).subtract(f);a=a.set(e,b("immutable").List(d))}return a.size!==0?a:null},{name:e.id+".assetGroupsByAsset"}),w=b("adsCreateSelector")([b("adsUEditorAllowFlexibleImageHeightForFBFeedSelector"),c,a,t,k,q],function(a,c,d,e,f,h){__p&&__p();if(!d||!e||c.isLoading())return null;c=c.getValueEnforcing();if(!c)return null;c=c.map(function(c,h){var i=f.get(h);c.format==="image"||g(0,4836);c=new(b("AdsImageLegacy"))({height:c.height,url:c.url,width:c.width});c={image:c,imageCrops:i?i:void 0};d&&d.get(h)&&b("AdsPlacementAssetUtils").isInstagramStoryPlacementOnly(d.get(h))?i=d.get(h):i=b("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithImage(c,b("nullthrows")(d).get(h),b("nullthrows")(e),a);return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(i)});var i=c.filter(function(a){return a.isEmpty()});if(!i.isEmpty()){i=b("onlyx")(i.keys());var j=b("immutable").Set(c.values()).flatten();h=b("immutable").Set(h).subtract(j);c=c.set(i,b("immutable").List(h))}return c.size!==0?c:null},{name:e.id+".validAssetGroupsByAssetSelector"});q=b("adsCreateSelector")([b("adsUEditorAllowFlexibleImageHeightForFBFeedSelector"),q,c,a,r,d,l,u,w,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),b("adsUEditorAccountSelector"),t,k,f,h,j,i],function(a,c,d,e,f,g,h,i,j,k,l,m,o,p,q,r,s){__p&&__p();if(d.isLoading()||g.isLoading()||r.isLoading())return b("LoadObject").loading();d=d.getValueEnforcing();g=g.getValueEnforcing();r=r.getValueEnforcing();if(d==null||!g&&!j)return b("LoadObject").withValue(null);var t=k.map(function(a){return a.adgroup.id});k=k.map(function(a){return a.campaign.id});return b("LoadObject").withValue(babelHelpers["extends"]({isInstagramLowResolutionEnabled:a,accountID:l.account_id,adgroupIDs:t,assetGroups:s?n(c):c},h,{assets:d,assetsPlacements:e,bodyInfoByAssetLabel:p,campaignIDs:k,customizedAssetLabels:q,cropsByAsset:o,devicePlatforms:m,labels:f,isUsingPlatformCustomizationUI:g,placementsByAssetGroup:i,validAssetGroupsByAsset:j?j:void 0,canSupportPAC2AfterDuplication:r}))},{name:e.id+".adsUEditorPlacementAssetSelectorPropsSelector"});c=b("adsCreateSelector")([q],function(a){if(a.isLoading()||!a.hasValue())return!1;a=a.getValueEnforcing();return!a?!1:b("AdsPlacementAssetUtils").isUsingPACPhase2({isUsingPlatformCustomizationUI:a.isUsingPlatformCustomizationUI,assetGroups:a.assetGroups,validAssetGroupsByAsset:a.validAssetGroupsByAsset})},{name:e.id+".adsIsPAC2AvailableSelector"});a=b("adsCreateSelector")([b("AdsUEditorCampaignSelectors").eligibilityInformation],function(a){var c=b("AdsPlacementAPISpecDefaultsUtils").getAllEligibleGroupsKeySet(a),d=b("AdsPlacementAssetEligibilityUtils").getAssetCustomizationPlacementGroupsToAdd(a);return c.length>d.length?!1:c.every(function(a){return d.includes(a)})},{name:e.id+".adsPACPhase2SupportsAllPlacementsSelector"});r=b("adsCreateSelector")([s,p],function(a,b){a=a;a.hasValue()||(a=b);return a.hasValue()?a.getValueEnforcing():null},{name:e.id+".adsPlacementAssetAdgroupDataSelector"});d=b("adsCreateSelector")([c,b("adsCanUseCropPerPlacementV1Selector")],function(a,b){return a&&b},{name:e.id+".adsShouldShowReviewPlacementsButtonSelector"});e.exports={adsUEditorPlacementAssetSelectorNonAssetFeedAdgroupDataSelector:p,adsUEditorPlacementAssetSelectorPropsSelector:q,adsUEditorPlacementAssetSelectorAssetFeedAdgroupDataSelector:s,adsIsPAC2AvailableSelector:c,adsShouldShowReviewPlacementsButtonSelector:d,adsPlacementAssetAdgroupDataSelector:r,adsPACPhase2SupportsAllPlacementsSelector:a,validAssetGroupsByAssetSelector:w,assetGroupsByAsset:v}}),null);